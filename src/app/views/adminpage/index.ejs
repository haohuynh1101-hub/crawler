<!DOCTYPE html>
<html>

<!-- Mirrored from coderthemes.com/adminto/vertical_dark/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Mar 2019 13:14:52 GMT -->

<head>
  <% include ../partials/head %>

</head>


<body class="fixed-left">

  <!-- Begin page -->
  <div id="wrapper">

    <!-- Top Bar Start -->
    <% include ../partials/topbar %>
    <!-- Top Bar End -->


    <!-- ========== Left Sidebar Start ========== -->
    <!-- Left Sidebar End -->



    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="content-page ml-0">
      <!-- Start content -->
      <div class="content">
        <div class="container">
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <a class="nav-item nav-link active" id="nav-suggest-tab" data-toggle="tab" href="#suggest" role="tab"
                aria-controls="suggest" aria-selected="true">Suggest</a>
              <a class="nav-item nav-link " id="nav-click-backlink-tab" data-toggle="tab" href="#click-backlink" role="tab"
                aria-controls="click-backlink" aria-selected="false">Click Backlink</a>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <% include ./feature-partials/click-backlink %>
            <% include ./feature-partials/suggest %>
          </div>
        </div> <!-- container -->

      </div> <!-- content -->

      <footer class="footer text-right">
        2016 - 2019 © Adminto. Coderthemes.com
      </footer>

    </div>

    <!-- ============================================================== -->
    <!-- End Right content here -->
    <!-- ============================================================== -->


    <!-- Right Sidebar -->
    <!-- /Right-bar -->

  </div>
  <!-- END wrapper -->

  <% include ../partials/scripts %>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script>
    var socket = io();
    socket.on('server-send-current-useragent', (data) => {
      console.log(data)
      $('#currentUserAgent').text(data);
      appendLog('Thay đổi User Agent thành công');
    })

    socket.on('server-send-current-url', (url) => {
      $('#currentURL').text(url);
      appendLog(url);
      appendLog('Đang lả lướt trên trang ...')
    })
    socket.on('not found url', () => {
      appendLog("Không tìm thấy url hoặc title khớp với truy vấn ở thiết bị đang giả lập, đang chuyển sang thiết bị khác ...");
    })
    socket.on('invalid-query', () => {
      appendLog('Tiêu đề hoặc URL đã nhập không khớp với bất kì kết quả tìm kiếm nào, vui lòng thử lại !');
      alert('Tiêu đề hoặc URL đã nhập không khớp với bất kì kết quả tìm kiếm nào, vui lòng thử lại !')
    })
    socket.on('changing-agent', () => {
      appendLog('Đang thay đổi User Agent ...');
    })
    socket.on('go-google', () => {
      appendLog("https://www.google.com/");
    })

    socket.on('close-brower', () => {
      appendLog('Đang đóng trình duyệt ...')
      $('#currentUserAgent').text('');
      $('#currentURL').text('');
    })

    socket.on('next-page',()=>{
      appendLog('Không tìm thấy domain ở trang hiện tại, đang chuyển sang trang kế ...')
    })

    socket.on('send-id', (id) => {
      console.log(id);
      localStorage.setItem('id', id);
    })

    socket.on('changing-agent-backlink',()=>{
      appendLogBacklink('Đang thay đổi user agent ...');
    })

    socket.on('agent-backlink',(data)=>{
      appendLogBacklink('User agent hiện tại: '+ data);
    })

    socket.on('send-domain-backlink',(domain)=>{
      appendLogBacklink('Đang truy cập: '+ domain);
    })

    socket.on('finding-backlink',()=>{
      appendLogBacklink('Đang tìm backlink ... ');
    })

    socket.on('found-backlink',(link)=>{
      appendLogBacklink('Đã tìm thấy backlink, đang truy cập '+link);
      appendLogBacklink('Delay ...')
    })

    socket.on('not-found-backlink',(link)=>{
      appendLogBacklink('Không tìm thấy '+link);
      appendLogBacklink('Vui lòng kiểm tra lại ');
      alert('Không tìm thấy backlink, vui lòng kiểm tra lại ');
    })

    const runTool = (e) => {
      $('#listLogSuggest').empty();
      $('#listLog').empty();
      let validate = CheckValide();
      if (validate.err) {
        alert("Please insert" + validate.message);
        return false;
      }
      $.post("/run",
        {
          keyword: $('#keyword').val(),
          title: $('#title').val(),
          isAutochangeUserAgent: JSON.parse($('#useragent').is(":checked")),
          delayTime: 5,
          numberOfClick: $('#numberOfClick').val(),
          socketID: localStorage.getItem('id')

        },
        function (data, status) {
          console.log(data);
        });
    }
    const runSuggestTool = () => {
      $('#listLog').empty();
      $.post("/suggest",
        {
          keywordSuggest: $('#suggestKeyword').val(),
          domain: $('#domain').val(),
          isAutochangeUserAgent: JSON.parse($('#useragent').is(":checked")),
          delaySuggest: $('#delay-suggest').val(),
          suggestTime: $('#suggestTime').val(),
          socketID: localStorage.getItem('id')

        },
        function (data, status) {
          console.log(data);
        });
    }
    
    const clickBacklink=()=>{
      $('#logBox').empty();
      $.post("/backlink",
        {
          domain: $('#domain_backlink').val(),
          delay: 3,
          amount: 1,
          socketID: localStorage.getItem('id'),
          backlink: $('#backlink').val()

        },
        function (data, status) {
          console.log(data);
        });
    }
    //valide data
    function CheckValide() {
      let keyword = $('#keyword');
      let title = $('#title');
      let delayTime = $('#delayTime');
      let numberOfClick = $('#numberOfClick');

      keyword.css("border-color", "#E3E3E3");
      title.css("border-color", "#E3E3E3");
      delayTime.css("border-color", "#E3E3E3");
      numberOfClick.css("border-color", "#E3E3E3");

      if (keyword.val() == "") {
        keyword.focus();
        keyword.css("border-color", "red")
        return { err: true, message: " Keyword" };
      }
      else if (title.val() == "") {
        title.focus();
        title.css("border-color", "red")
        return { err: true, message: " Title" };
      }
      else if (delayTime.val() == "") {
        delayTime.focus();
        delayTime.css("border-color", "red")
        return { err: true, message: " Delay time" };
      }
      else if (numberOfClick.val() == "") {
        numberOfClick.focus();
        numberOfClick.css("border-color", "red")
        return { err: true, message: " Number of click" };
      }
      return { err: false };
    }

    //append log
    function appendLog(messageLog) {
      let timeLog = new Date();
      let log =   `${timeLog.getHours() > 10 ? timeLog.getHours() : '0' + timeLog.getHours()}:`
                + `${timeLog.getMinutes() > 10 ? timeLog.getMinutes() : '0' + timeLog.getMinutes()}:`
                + `${timeLog.getSeconds() > 10 ? timeLog.getSeconds() : '0' + timeLog.getSeconds()}:`
                + `  ${messageLog}`;
      $("#listLogSuggest").prepend(`<li>${log}</li>`);
    }

    function appendLogBacklink(messageLog) {
      let timeLog = new Date();
      let log =   `${timeLog.getHours() > 10 ? timeLog.getHours() : '0' + timeLog.getHours()}:`
                + `${timeLog.getMinutes() > 10 ? timeLog.getMinutes() : '0' + timeLog.getMinutes()}:`
                + `${timeLog.getSeconds() > 10 ? timeLog.getSeconds() : '0' + timeLog.getSeconds()}:`
                + `  ${messageLog}`;
      $("#listLogBacklink").prepend(`<li>${log}</li>`);
    }
  </script>
</body>

<!-- Mirrored from coderthemes.com/adminto/vertical_dark/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 21 Mar 2019 13:15:13 GMT -->

</html>